<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<!-- 해당 부분의 namespace는 project package + Mapper Package + Mapper Interface 이름입니다. -->
<mapper namespace="loginMapper">
	<!-- 해당 부분의 id는 MapperClass의 함수 이름과 유사하여야 합니다. -->
	
	<insert id="insertMember"> 
		<![CDATA[
			INSERT 
			INTO	USER_INFO
				(	USER_CODE
				,	USER_ID
				,	USER_PW
				,	USER_ADDRESS
				,	USER_EMAIL
				,	USER_BIRTH
				,	USER_PHONENUMBER
				,	USER_GENDER
				,	USER_NAME
				,	USER_PW_HINT_CODE
				,	USER_PW_HINT_ANSWER
				,	USE_YN
				) 
			VALUES	
				(	('USER_' || LPAD(user_seq.nextval,8,0))
				,	#{userId}
				,	#{userPw}
				,	#{userAddress}
				,	#{userEmail}
				,	#{userBirth}
				,	#{userPhoneNumber}
				,	#{userGender}
				,	#{userName}
				,	#{userPwHintCode}
				,	#{userPwHintAnswer}
				,	'Y'
				)
		]]>
	</insert>
	
	<select id="login" resultType="com.login.VO.userInfoVO">
		<![CDATA[
			SELECT	USER_ID 	as	userId
				 ,	USER_PW		as 	userPw
				 ,	USER_CODE	as 	userCode
			FROM	USER_INFO
			WHERE	USER_ID		=	#{userId}
		]]>
	</select>
	
	<select id="selectSameId" resultType="int" parameterType="string">
		<![CDATA[
			SELECT	COUNT(*)
			FROM	USER_INFO
			WHERE	USER_ID		=	#{userId}
		]]>
	</select>
	
</mapper>